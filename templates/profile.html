<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>{{ user.username }}â€™s Profile</title>
        <link href="{{ url_for('static', filename='profileStyles.css') }}" rel="stylesheet">
    <body>
        <div id="appContainer">
            <div id="profileMenuContainer">
                <button id="profileButton" aria-label="User Profile">
                    <img class="profile-pic" src="{{ url_for('static', filename='123.png') }}" alt="{{ user.username }}" />
                </button>
                <div id="profileMenu">
                    <ul>
                        <li><a href="/profile/{{ user.id }}">Profile</a></li>
                        <li><a href="/logout">Logout</a></li>
                    </ul>
                </div>
            </div>

            <h1 id="title">Profile</h1>
            <div id="content" class="profile-content">
                <div class="profile-card">
                    <img class="profile-pic" src="{{ url_for('static', filename='123.png') }}" alt="{{ user.username }}" />
                    <h2>{{ user.username }}</h2>
                    <p><strong>User ID:</strong> {{ user.id }}</p>
                </div>
            </div>

            <p><a href="{{ url_for('chat') }}">Back to Chat</a></p>
        </div>
        <img id="decoyImage" src="/static/123.png" style="display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; object-fit: cover; z-index: 9999;" />
        <script>
            const root = document.documentElement;

            function toggleAway() {
                root.classList.toggle("away");
            }

            document.addEventListener("keydown", function (event) {
                if (event.ctrlKey && event.key.toLowerCase() === "i") {
                    event.preventDefault();
                    toggleAway();
                }
            });
        </script>
        <script>
            const profileButton = document.getElementById("profileButton");
            const profileMenu = document.getElementById("profileMenu");
            profileButton.addEventListener("click", (e) => {
                e.stopPropagation();
                profileMenu.classList.toggle("open");
            });
            document.addEventListener("click", () => {
                profileMenu.classList.remove("open");
            });
        </script>
    </body>
</html>
